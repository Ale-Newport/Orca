{% extends "base_content.html" %}

{% block content %}
<div class="container">
    <h1>Update Lesson</h1>
    <p>Update the details of your existing lesson below.</p>

    <form action="{% url 'update_lesson' lesson.id %}" method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="subject">Subject</label>
            <select id="subject" name="subject" class="form-control" required>
                <option value="">Select a subject</option>
                <option value="Python" {% if form.instance.subject == 'Python' %}selected{% endif %}>Python</option>
                <option value="Java" {% if form.instance.subject == 'Java' %}selected{% endif %}>Java</option>
                <option value="C++" {% if form.instance.subject == 'C++' %}selected{% endif %}>C++</option>
                <option value="Scala" {% if form.instance.subject == 'Scala' %}selected{% endif %}>Scala</option>
                <option value="Web Development" {% if form.instance.subject == 'Web Development' %}selected{% endif %}>Web Development</option>
            </select>            
        </div>

        <div class="form-group">
            <label for="date">Date and Time</label>
            <input type="datetime-local" id="date" name="date" class="form-control" value="{{ lesson.date|date:'Y-m-d\TH:i' }}" required>
        </div>

        <div class="form-group">
            <label for="duration">Lesson Duration (minutes)</label>
            <input type="number" id="duration" name="duration" class="form-control" value="{{ lesson.duration }}" min="30" max="120" step="15" required>
        </div>

        <button type="submit" class="btn btn-primary">Update Lesson</button>
        <a href="{% url 'view_upcoming_lessons' %}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}
